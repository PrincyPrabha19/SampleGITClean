<UserControl
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:Controls="clr-namespace:AlienLabs.AlienAdrenaline.App.Controls"
	xmlns:Converters="clr-namespace:AlienLabs.AlienAdrenaline.App.Converters"
	mc:Ignorable="d"
	x:Class="AlienLabs.AlienAdrenaline.App.Controls.ToggleButtonWithImageControl"
	x:Name="UserControl">

	<UserControl.Resources>
        <Converters:ContentToCollapsedVisibilityConverter x:Key="contentToCollapsedVisibilityConverter"/>
        
		<Style x:Key="ButtonFocusVisual">
			<Setter Property="Control.Template">
				<Setter.Value>
					<ControlTemplate>
						<Rectangle Margin="2" SnapsToDevicePixels="true" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" StrokeThickness="1" StrokeDashArray="1 2"/>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		<LinearGradientBrush x:Key="ButtonNormalBackground" EndPoint="0,1" StartPoint="0,0">
			<GradientStop Color="#F3F3F3" Offset="0"/>
			<GradientStop Color="#EBEBEB" Offset="0.5"/>
			<GradientStop Color="#DDDDDD" Offset="0.5"/>
			<GradientStop Color="#CDCDCD" Offset="1"/>
		</LinearGradientBrush>
		<SolidColorBrush x:Key="ButtonNormalBorder" Color="#FF707070"/>
	
		<SolidColorBrush x:Key="AlienBlue" Color="#FF2EB8FF"/>
		<SolidColorBrush x:Key="AlienLightGray" Color="#FFC8C8C8"/>
	
		<DataTemplate x:Key="TextBlockWithEllipsis">
			<TextBlock Text="{TemplateBinding Content}" TextTrimming="CharacterEllipsis" TextWrapping="NoWrap" RenderTransformOrigin="0.5,0.5" FontWeight="Normal" x:Name="TextBlock">
				<TextBlock.RenderTransform>
					<TransformGroup>
						<ScaleTransform ScaleX="1" ScaleY="1"/>
						<SkewTransform AngleX="0" AngleY="0"/>
						<RotateTransform Angle="1440"/>
						<TranslateTransform X="0" Y="0"/>
					</TransformGroup>
				</TextBlock.RenderTransform>
			</TextBlock>
		</DataTemplate>
	
		<Style x:Key="LabelWithEllipsisStyle" TargetType="{x:Type Label}">
			<Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Padding" Value="5"/>
			<Setter Property="HorizontalContentAlignment" Value="Left"/>
			<Setter Property="VerticalContentAlignment" Value="Top"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="{x:Type Label}">
						<Border SnapsToDevicePixels="true" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="{TemplateBinding Padding}">
							<ContentPresenter x:Name="TextContent" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" RecognizesAccessKey="True" ContentTemplate="{DynamicResource TextBlockWithEllipsis}"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsEnabled" Value="false">
								<Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	
		<Style x:Key="CategoryToggleButtonStyle" TargetType="{x:Type ToggleButton}">
			<Setter Property="FocusVisualStyle" Value="{StaticResource ButtonFocusVisual}"/>
			<Setter Property="Background" Value="{StaticResource ButtonNormalBackground}"/>
			<Setter Property="BorderBrush" Value="{StaticResource ButtonNormalBorder}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
			<Setter Property="HorizontalContentAlignment" Value="Center"/>
			<Setter Property="VerticalContentAlignment" Value="Center"/>
			<Setter Property="Padding" Value="1"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="{x:Type ToggleButton}">
						<Grid>
							<Path x:Name="pathFill" Width="200" Height="60" Stretch="Fill" Fill="#FF040707" Data="F1 M421.54204,457.275 L300.05292,457.275 C297.21636,457.55482 295.77266,459.11068 295.732,460.65535 L295.732,496.7647 C295.732,498.35414 297.39936,500.08909 300.01225,500.257 L421.56237,500.257 C424.22098,500.0667 425.868,498.38772 425.868,496.73657 L425.86789,463.47591 C425.8576,462.24479 425.02391,457.82346 421.54204,457.275 z" HorizontalAlignment="Left" VerticalAlignment="Top"/>
							<Path x:Name="pathChrome" Stretch="Fill" Data="F1 M468.812,458.877 C466.25263,459.11527 464.38769,459.81967 464.19715,462.15041 L464.16945,495.34017 C464.19943,497.76414 466.91748,498.61356 469.06462,498.655 L586.515,498.655 C589.053,498.655 591.15421,497.03902 591.15421,495.3816 L591.16434,462.19185 C591.16434,459.70572 588.31732,458.88737 586.515,458.877 L468.812,458.877 z" HorizontalAlignment="Stretch" Height="Auto" VerticalAlignment="Stretch" Width="Auto" Margin="-0.016,0">
								<Path.Fill>
									<LinearGradientBrush StartPoint="0.500088,-0.015279" EndPoint="0.500088,1.00857">
										<GradientStop Color="#FF2C2C2F" Offset="0"/>
										<GradientStop Color="#FF2C2C2F" Offset="0.446243"/>
										<GradientStop Color="#FF1F2022" Offset="0.465076"/>
										<GradientStop Color="#FF121415" Offset="0.483871"/>
										<GradientStop Color="#FF121415" Offset="1"/>
									</LinearGradientBrush>
								</Path.Fill>
							</Path>
							<Path x:Name="pathBorderTop" Width="Auto" Height="5.151" Stretch="Fill" Fill="#FF6D6E71" Data="F1 M 748.381,458.878L 630.68,458.878C 628.14,458.878 626.065,460.955 626.065,463.494L 626.065,464.028C 626.065,461.49 628.14,459.412 630.68,459.412L 748.381,459.412C 750.92,459.412 752.996,461.49 752.996,464.028L 752.996,463.494C 752.996,460.955 750.92,458.878 748.381,458.878 Z " HorizontalAlignment="Stretch" VerticalAlignment="Top"/>
							<Path x:Name="pathCheckedFill" Width="200" Height="60" Stretch="Fill" Fill="#FF2EB8FF" Data="F1 M421.54204,457.275 L300.05292,457.275 C297.21636,457.55482 295.77266,459.11068 295.732,460.65535 L295.732,496.7647 C295.732,498.35414 297.39936,500.08909 300.01225,500.257 L421.56237,500.257 C424.22098,500.0667 425.868,498.38772 425.868,496.73657 L425.86789,463.47591 C425.8576,462.24479 425.02391,457.82346 421.54204,457.275 z" HorizontalAlignment="Left" VerticalAlignment="Top" d:CopyToken="c12ba67a-6438-416e-b1d6-ac7b37ce67a2" Opacity="0.07" Visibility="Collapsed"/>
							<Path x:Name="pathBorderBot" Data="M3.6358253,0 L96.364149,0 C98.364454,5.7997326E-07 99.999982,2.077391 99.999982,4.6168752 L99.999982,5.1510032 C99.999982,2.6124963 98.364454,0.53409858 96.364149,0.53409828 L3.6358253,0.53409828 C1.634756,0.53409858 -1.2195275E-07,2.6124963 4.5474727E-13,5.1510032 L4.5474727E-13,4.6168752 C-1.2195275E-07,2.077391 1.634756,5.7997326E-07 3.6358253,0 z" Fill="#FF6D6E71" HorizontalAlignment="Stretch" Height="5.151" Margin="0" RenderTransformOrigin="0.499999873718474,0.49999845527272" Stretch="Fill" VerticalAlignment="Bottom" Width="Auto">
								<Path.RenderTransform>
									<TransformGroup>
										<ScaleTransform ScaleY="-1" ScaleX="1"/>
										<SkewTransform AngleY="0" AngleX="0"/>
										<RotateTransform Angle="0"/>
										<TranslateTransform/>
									</TransformGroup>
								</Path.RenderTransform>
							</Path>
							<Image x:Name="image" Source="{Binding Image, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Controls:ToggleButtonWithImageControl}}}" HorizontalAlignment="Left" Width="30" Margin="8,8,0,0" Height="44" VerticalAlignment="Top"/>
							<StackPanel x:Name="stackData" Margin="38,0,0,0" Orientation="Vertical" d:LayoutOverrides="Height" VerticalAlignment="Center">
								<Label Margin="0" x:Name="labelCaption" VerticalAlignment="Stretch" Content="{TemplateBinding Content}" Foreground="{DynamicResource AlienLightGray}" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Padding="0,3,0,0" FontSize="{TemplateBinding FontSize}" FontFamily="{TemplateBinding FontFamily}" Style="{DynamicResource LabelWithEllipsisStyle}" Width="162"/>
								<Label Margin="0" x:Name="labelData" VerticalAlignment="Stretch" Content="{TemplateBinding Tag}" Visibility="{TemplateBinding Tag, Converter={StaticResource contentToCollapsedVisibilityConverter}}" Foreground="{DynamicResource AlienLightGray}" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Padding="0,3,0,0" Style="{DynamicResource LabelWithEllipsisStyle}" Width="162" Height="Auto" FontFamily="Pill Gothic 600mg Light" FontSize="9.333"/>
							</StackPanel>
							<Path x:Name="pathBorderChecked" Stretch="Fill" Data="M6.8750216,5.0487098E-29 C3.1406466,5.0487098E-29 2.0224888E-10,2.1093838 2.0224888E-10,4.7812588 L5.6843419E-13,55.187509 C5.6843419E-13,57.708342 2.8541883,59.999999 6.6666883,59.999999 L191.28836,59.999999 C195.87502,59.999999 199.83335,58.958342 200,55.041675 L200,4.9531338 C200,1.6718838 196.31252,4.7350568E-11 193.1094,4.7350568E-11 M7.8062761,1.0000003 C4.1092349,1.0000003 1.0000002,3.0390662 1.0000002,5.6218821 L1.0000002,54.34792 C1.0000002,56.784737 3.8256516,58.999999 7.6000156,58.999999 L190.37548,58.999999 C194.91627,58.999999 198.83502,57.993065 199,54.206947 L199,5.7880268 C199,2.6161588 195.3494,1.0000003 192.17831,1.0000003" HorizontalAlignment="Stretch" Height="Auto" VerticalAlignment="Stretch" Width="Auto" Visibility="Collapsed">
								<Path.Fill>
									<LinearGradientBrush StartPoint="0.18177,1.48215" EndPoint="2.24661,1.48215">
										<LinearGradientBrush.RelativeTransform>
											<TransformGroup>
												<SkewTransform CenterX="0.18177" CenterY="1.48215" AngleX="-54.0934" AngleY="0"/>
												<RotateTransform CenterX="0.18177" CenterY="1.48215" Angle="-72.0467"/>
											</TransformGroup>
										</LinearGradientBrush.RelativeTransform>
										<GradientStop Color="#FF4DC9F3" Offset="0"/>
										<GradientStop Color="#FF277499" Offset="1"/>
									</LinearGradientBrush>
								</Path.Fill>
							</Path>
						</Grid>
						<ControlTemplate.Triggers>
							<Trigger Property="IsChecked" Value="true">
								<Setter Property="Visibility" TargetName="pathBorderChecked" Value="Visible"/>
								<Setter Property="Visibility" TargetName="pathCheckedFill" Value="Visible"/>
							</Trigger>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Fill" TargetName="pathBorderBot" Value="{DynamicResource AlienBlue}"/>
								<Setter Property="Fill" TargetName="pathBorderTop" Value="{DynamicResource AlienBlue}"/>
								<Setter Property="Foreground" TargetName="labelCaption" Value="White"/>
							</Trigger>
							<Trigger Property="IsPressed" Value="True"/>
							<Trigger Property="IsEnabled" Value="False"/>

						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</UserControl.Resources>

	<Grid x:Name="LayoutRoot">
        <ToggleButton x:Name="toggleButton" Checked="buttonChecked" Unchecked="buttonUnchecked" Template="{Binding ButtonTemplate, ElementName=UserControl}" FontFamily="{Binding FontFamily, ElementName=UserControl}" IsChecked="{Binding IsChecked, ElementName=UserControl}" Content="{Binding Text, ElementName=UserControl}" FontSize="{Binding FontSize, ElementName=UserControl}" Tag="{Binding Tag, ElementName=UserControl}"/>
	</Grid>
</UserControl>